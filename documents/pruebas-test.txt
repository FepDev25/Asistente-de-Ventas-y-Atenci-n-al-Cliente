~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ curl http://localhost:8000/health

{"status":"healthy","version":"1.0.0","rate_limiting":"enabled"}%                                          
~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ curl http://localhost:8000/rate-limits

{"endpoints":{"/graphql":{"limit":"30/minute","description":"Queries y mutations GraphQL"},"/auth/login":{"limit":"5/minute","description":"Login de usuarios"},"/health":{"limit":"100/minute","description":"Health check"}},"note":"Los límites son por IP o por usuario autenticado"}%                                       
~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ curl http://localhost:8000/auth/rate-limit-status

{"login_limit":"5 requests per minute","graphql_limit":"30 requests per minute","health_limit":"100 requests per minute"}% 

~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ curl -X POST http://localhost:8000/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "cliente_demo",
    "password": "demo123"    
  }'
{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEwZWUwNTgxLWFiOTYtNGNkOC04NTA1LWI4NWEwMDIxYTkxZCIsInVzZXJuYW1lIjoiY2xpZW50ZV9kZW1vIiwiZW1haWwiOiJkZW1vQHRlc3QuY29tIiwicm9sZSI6MiwiZXhwIjoxNzcwMzIxNDQyfQ.EjhXVA9MXACncj_dQaFmrxHy91zjOViAN7zOHdDfZBo","token_type":"bearer"}%                                    
~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ export TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEwZWUwNTgxLWFiOTYtNGNkOC04NTA1LWI4NWEwMDIxYTkxZCIsInVzZXJuYW1lIjoiY2xpZW50ZV9kZW1vIiwiZW1haWwiOiJkZW1vQHRlc3QuY29tIiwicm9sZSI6MiwiZXhwIjoxNzcwMzIxNDQyfQ.EjhXVA9MXACncj_dQaFmrxHy91zjOViAN7zOHdDfZBo"

~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ curl -X POST http://localhost:8000/graphql \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer '$TOKEN'" \
  -d '{
    "query": "{ listProducts(limit: 10) { id productName unitCost quantityAvailable stockStatus warehouseLocation shelfLocation batchNumber } }"
  }'
{"data": {"listProducts": [{"id": "83164832-edfc-4f53-8faf-82e9b3026023", "productName": "Nike Air Zoom Pegasus 40", "unitCost": "120.00", "quantityAvailable": 10, "stockStatus": 1, "warehouseLocation": "CUENCA-CENTRO", "shelfLocation": null, "batchNumber": "LOTE-2026-A"}, {"id": "dda36fef-eeae-4310-82be-567a657eaa81", "productName": "Adidas Ultraboost Light", "unitCost": "180.00", "quantityAvailable": 5, "stockStatus": 1, "warehouseLocation": "CUENCA-CENTRO", "shelfLocation": null, "batchNumber": "LOTE-2026-A"}, {"id": "b8611e9d-8b8c-4063-995a-ec44e7cba9c7", "productName": "Puma Velocity Nitro 2", "unitCost": "95.50", "quantityAvailable": 20, "stockStatus": 1, "warehouseLocation": "QUITO-NORTE", "shelfLocation": null, "batchNumber": "LOTE-2026-A"}, {"id": "9abbea54-0739-4f1e-8cc2-c78955d40a8b", "productName": "Calcetines Nike Crew (Pack x3)", "unitCost": "15.00", "quantityAvailable": 50, "stockStatus": 1, "warehouseLocation": "CUENCA-CENTRO", "shelfLocation": null, "batchNumber": "LOTE-2026-A"}]}}%  

~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ PRODUCT_ID="83164832-edfc-4f53-8faf-82e9b3026023"
~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ curl -X POST http://localhost:8000/graphql \     
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $TOKEN" \
  -d '{
    "query": "{ getProductById(id: \"'"$PRODUCT_ID"'\") { id productName unitCost quantityAvailable stockStatus } }"
  }'
{"data": {"getProductById": {"id": "83164832-edfc-4f53-8faf-82e9b3026023", "productName": "Nike Air Zoom Pegasus 40", "unitCost": "120.00", "quantityAvailable": 10, "stockStatus": 1}}}%     

~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ export TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEwZWUwNTgxLWFiOTYtNGNkOC04NTA1LWI4NWEwMDIxYTkxZCIsInVzZXJuYW1lIjoiY2xpZW50ZV9kZW1vIiwiZW1haWwiOiJkZW1vQHRlc3QuY29tIiwicm9sZSI6MiwiZXhwIjoxNzcwMzIxNzI2fQ.pjq0QHSEIR1UgKIpP7PRRCDlJ4fZ1mnpuFVV0RVErB0"
~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ curl -X POST http://localhost:8000/graphql \  -H "Content-Type: application/json" \  -H "Authorization: Bearer '$TOKEN'" \
  -d '{
    "query": "{ getCurrentUser { id username email fullName role isActive createdAt } }"
  }'
{"data": {"getCurrentUser": null}}%                                                                        
~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯   


~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ curl -X POST http://localhost:8000/auth/login \
  -H "Content-Type: application/json" \
  -d '{                                
    "username": "cliente_demo",
    "password": "demo123"
  }'
{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEwZWUwNTgxLWFiOTYtNGNkOC04NTA1LWI4NWEwMDIxYTkxZCIsInVzZXJuYW1lIjoiY2xpZW50ZV9kZW1vIiwiZW1haWwiOiJkZW1vQHRlc3QuY29tIiwicm9sZSI6MiwiZXhwIjoxNzcwMzIxODM4fQ.ervW70YQl_qISj9h5H8AjNfQbve87VmDsnA44ZVEA1Q","token_type":"bearer"}%                                    
~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ export TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEwZWUwNTgxLWFiOTYtNGNkOC04NTA1LWI4NWEwMDIxYTkxZCIsInVzZXJuYW1lIjoiY2xpZW50ZV9kZW1vIiwiZW1haWwiOiJkZW1vQHRlc3QuY29tIiwicm9sZSI6MiwiZXhwIjoxNzcwMzIxODM4fQ.ervW70YQl_qISj9h5H8AjNfQbve87VmDsnA44ZVEA1Q"
~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯ curl -X POST http://localhost:8000/graphql \     -H "Content-Type: application/json" \  -H "Authorization: Bearer '$TOKEN'" \
  -d '{                        
    "query": "{ semanticSearch(query: \"Busco zapatillas Nike\", sessionId: \"session-test-001\") { answer query error } }"
  }'
{"data": {"semanticSearch": {"answer": "Debes iniciar sesion para usar el chat.", "query": "Busco zapatillas Nike", "error": "unauthorized"}}}%                                                                       
~/Documentos/universidad/universidad 7mo/aprendizaje automatico/practica 4 main* practica-4 ❯    